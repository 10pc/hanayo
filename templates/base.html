{{ define "base" }}
{{/* or returns the first non-empty argument. So if KyutGrill is set, then return KyutGrill, else return default.jpg.
Or, in "if" terms: if .KyutGrill then .KyutGrill else "default.jpg". */}}
{{ $KyutGrill := or .KyutGrill "default.jpg" }}
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">		

		<title>{{ if .TitleBar }}{{ .TitleBar }} - {{ end }}Ripple</title>
		
		<link rel="stylesheet" type="text/css" href="/static/semantic.min.css">
		<link rel="stylesheet" type="text/css" href="/static/ripple.css">
	</head>
	<body>
		<div class="ui full height main wrapper" {{ if .DisableHH }}style="background-image: url('/static/headers/{{ $KyutGrill }}');"{{ end }}>
			{{ template "navbar" . }}
			{{ if not .DisableHH }}
				<div class="huge heading dropped"
					style="background-image: url('/static/headers/{{ $KyutGrill }}');">
					<h1>{{ if .HeadingTitle }}{{ html .HeadingTitle }}{{ else }}{{ .TitleBar }}{{ end }}</h1>
				</div>
			{{ end }}
		
			<div class="h-container">
				<div class="ui margined container" id="messages-container">
				{{ if .Messages }}
						{{ range $i, $v := .Messages }}
							<div class="ui {{ $v.Type }} message">
								<i class="close icon"></i>
								{{ $v.Content }}
							</div>
						{{ end }}
				{{ end }}
				</div>
				{{ template "tpl" . }}
			</div>
	
		</div>
	
		<div class="footer">
			Â© 2015-{{ curryear }} The Ripple Team. <a href="/developers">Developers</a> | <a href="https://github.com/osuripple">GitHub</a> | <a href="https://twitter.com/_ripple">@_ripple</a>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-rc1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timeago/1.5.3/jquery.timeago.min.js"></script>
		<script src="/static/semantic.min.js"></script>
		<script src="/static/ripple.js"></script>
		{{/* If we got some more scripts to print, print'em */}}
		{{ if .Scripts }}
			{{ range .Scripts }}
				<script src="{{ . }}"></script>
			{{ end }}
		{{ end }}
	</body>
</html>
{{ end }}
